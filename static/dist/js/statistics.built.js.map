{"version":3,"sources":["../../js/statistics.js"],"names":["monthArray","rawDataIsLoading","totalPokemon","msPerMinute","spawnTimeMinutes","spawnTimeMs","loadRawData","$","ajax","url","type","data","val","dataType","beforeSend","complete","addElement","pokemonId","name","jQuery","id","class","appendTo","imageContainer","baseDetailContainer","href","target","title","text","onclick","processSeen","seen","i","total","shown","pokemon","sort","a","b","document","getElementById","order","options","selectedIndex","value","tmp","toLowerCase","length","item","percentage","toFixed","lastSeen","Date","getHours","getMinutes","slice","getSeconds","getDate","getMonth","getFullYear","location","html","toLocaleString","show","insertBefore","childNodes","push","indexOf","hide","innerHTML","updateStatMap","firstRun","duration","header","done","result","detailsLoading","appearancesTimesLoading","pokemonid","mapLoaded","detailsPersist","map","heatmap","heatmapPoints","mapData","appearances","loadDetails","loadAppearancesTimes","spawnpointId","showTimes","marker","appearanceTab","then","closeTimes","addListeners","addListener","initMap","google","maps","Map","zoom","center","lat","centerLat","lng","centerLng","fullscreenControl","streetViewControl","mapTypeControl","clickableIcons","mapTypeControlOptions","style","MapTypeControlStyle","DROPDOWN_MENU","position","ControlPosition","RIGHT_TOP","mapTypeIds","MapTypeId","ROADMAP","SATELLITE","HYBRID","styleNoLabels","StyledMapType","noLabelsStyle","mapTypes","set","styleDark","darkStyle","styleLight2","light2Style","stylePgo","pGoStyle","styleDarkNl","darkStyleNoLabels","styleLight2Nl","light2StyleNoLabels","stylePgoNl","pGoStyleNoLabels","s","Store","mapTypeId","setMapTypeId","get","event","redrawAppearances","resetMap","each","key","setMap","showOverlay","hash","updateDetails","closeOverlay","processAppearance","setupPokemonMarker","LatLng","weight","parseFloat","newMarker","times","appearancesTimes","saw","visualization","HeatmapLayer","radius","match","replace","select2","minimumResultsForSearch","Infinity","on"],"mappings":"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","file":"statistics.built.js","sourcesContent":["/* Shared */\nvar monthArray = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\n/* Main stats page */\nvar rawDataIsLoading = false\nvar totalPokemon = 151\nvar msPerMinute = 60000\nvar spawnTimeMinutes = 15\nvar spawnTimeMs = msPerMinute * spawnTimeMinutes\n\nfunction loadRawData () {\n  return $.ajax({\n    url: 'raw_data',\n    type: 'GET',\n    data: {\n      'pokemon': false,\n      'pokestops': false,\n      'gyms': false,\n      'scanned': false,\n      'seen': true,\n      'duration': $('#duration').val()\n    },\n    dataType: 'json',\n    beforeSend: function () {\n      if (rawDataIsLoading) {\n        return false\n      } else {\n        rawDataIsLoading = true\n      }\n    },\n    complete: function () {\n      rawDataIsLoading = false\n    }\n  })\n}\n\nfunction addElement (pokemonId, name) {\n  jQuery('<div/>', {\n    id: 'seen_' + pokemonId,\n    class: 'item'\n  }).appendTo('#seen_container')\n\n  jQuery('<div/>', {\n    id: 'seen_' + pokemonId + '_base',\n    class: 'container'\n  }).appendTo('#seen_' + pokemonId)\n\n  var imageContainer = jQuery('<div/>', {\n    class: 'image'\n  }).appendTo('#seen_' + pokemonId + '_base')\n\n  jQuery('<i/>', {\n    class: 'pokemon-sprite n' + pokemonId\n  }).appendTo(imageContainer)\n\n  var baseDetailContainer = jQuery('<div/>', {\n    class: 'info'\n  }).appendTo('#seen_' + pokemonId + '_base')\n\n  jQuery('<div/>', {\n    id: 'name_' + pokemonId,\n    class: 'name'\n  }).appendTo(baseDetailContainer)\n\n  jQuery('<a/>', {\n    id: 'link_' + pokemonId,\n    href: 'http://www.pokemon.com/us/pokedex/' + pokemonId,\n    target: '_blank',\n    title: 'View in Pokedex',\n    text: name\n  }).appendTo('#name_' + pokemonId)\n\n  jQuery('<div/>', {\n    id: 'seen_' + pokemonId + '_details',\n    class: 'details'\n  }).appendTo('#seen_' + pokemonId)\n\n  jQuery('<div/>', {\n    id: 'count_' + pokemonId,\n    class: 'seen'\n  }).appendTo('#seen_' + pokemonId + '_details')\n\n  jQuery('<div/>', {\n    id: 'lastseen_' + pokemonId,\n    class: 'lastseen'\n  }).appendTo('#seen_' + pokemonId + '_details')\n\n  jQuery('<div/>', {\n    id: 'location_' + pokemonId,\n    class: 'location'\n  }).appendTo('#seen_' + pokemonId + '_details')\n\n  jQuery('<a/>', {\n    href: 'javascript:void(0);',\n    onclick: 'javascript:showOverlay(' + pokemonId + ');',\n    text: 'All Locations'\n  }).appendTo('#seen_' + pokemonId + '_details')\n}\n\nfunction processSeen (seen) {\n  var i\n  var total = seen.total\n  var shown = []\n\n  seen.pokemon.sort(function (a, b) {\n    var sort = document.getElementById('sort')\n    var order = document.getElementById('order')\n\n    if (order.options[order.selectedIndex].value === 'desc') {\n      var tmp = b\n      b = a\n      a = tmp\n    }\n\n    if (sort.options[sort.selectedIndex].value === 'id') {\n      return a['pokemon_id'] - b['pokemon_id']\n    } else if (sort.options[sort.selectedIndex].value === 'name') {\n      if (a['pokemon_name'].toLowerCase() < b['pokemon_name'].toLowerCase()) {\n        return -1\n      }\n      if (a['pokemon_name'].toLowerCase() > b['pokemon_name'].toLowerCase()) {\n        return 1\n      }\n      return 0\n    } else {\n      // Default to count\n      if (a['count'] === b['count']) { // Same count: order by id\n        return b['pokemon_id'] - a['pokemon_id']\n      }\n      return a['count'] - b['count']\n    }\n  })\n\n  for (i = seen.pokemon.length - 1; i >= 0; i--) {\n    var item = seen.pokemon[i]\n    var percentage = (item['count'] / total * 100).toFixed(4)\n    var lastSeen = new Date(item['disappear_time'])\n    lastSeen = lastSeen.getHours() + ':' +\n    ('0' + lastSeen.getMinutes()).slice(-2) + ':' +\n    ('0' + lastSeen.getSeconds()).slice(-2) + ' ' +\n    lastSeen.getDate() + ' ' +\n    monthArray[lastSeen.getMonth()] + ' ' +\n    lastSeen.getFullYear()\n    var location = (item['latitude'] * 1).toFixed(7) + ', ' + (item['longitude'] * 1).toFixed(7)\n    if (!$('#seen_' + item['pokemon_id']).length) {\n      addElement(item['pokemon_id'], item['pokemon_name'])\n    }\n    $('#count_' + item['pokemon_id']).html('<strong>Seen:</strong> ' + item['count'].toLocaleString() + ' (' + percentage + '%)')\n    $('#lastseen_' + item['pokemon_id']).html('<strong>Last Seen:</strong> ' + lastSeen)\n    $('#location_' + item['pokemon_id']).html('<strong>Location:</strong> ' + location)\n    $('#seen_' + item['pokemon_id']).show()\n    // Reverting to classic javascript here as it's supposed to increase performance\n    document.getElementById('seen_container').insertBefore(document.getElementById('seen_' + item['pokemon_id']), document.getElementById('seen_container').childNodes[0])\n    shown.push(item['pokemon_id'])\n  }\n\n  // Hide any unneeded items\n  for (i = 1; i <= totalPokemon; i++) {\n    if (shown.indexOf(i) < 0) {\n      $('#seen_' + i).hide()\n    }\n  }\n\n  document.getElementById('seen_total').innerHTML = 'Total: ' + total.toLocaleString()\n}\n\nfunction updateStatMap (firstRun) {\n  var duration = document.getElementById('duration')\n  var header = 'Pokemon Seen in ' + duration.options[duration.selectedIndex].text\n  if ($('#seen_header').html() !== header) {\n    $('#seen_container').hide()\n    $('#loading').show()\n    $('#seen_header').html('')\n    $('#seen_total').html('')\n  }\n  loadRawData().done(function (result) {\n    processSeen(result.seen)\n    if ($('#seen_header').html() !== header) {\n      $('#seen_header').html(header)\n      $('#loading').hide()\n      $('#seen_container').show()\n    }\n  })\n}\n\nupdateStatMap()\n\n/* Overlay */\nvar detailsLoading = false\nvar appearancesTimesLoading = false\nvar pokemonid = 0\nvar mapLoaded = false\nvar detailsPersist = false\nvar map = null\nvar heatmap = null\nvar heatmapPoints = []\nmapData.appearances = {}\n\nfunction loadDetails () {\n  return $.ajax({\n    url: 'raw_data',\n    type: 'GET',\n    data: {\n      'pokemon': false,\n      'pokestops': false,\n      'gyms': false,\n      'scanned': false,\n      'appearances': true,\n      'pokemonid': pokemonid,\n      'duration': $('#duration').val()\n    },\n    dataType: 'json',\n    beforeSend: function () {\n      if (detailsLoading) {\n        return false\n      } else {\n        detailsLoading = true\n      }\n    },\n    complete: function () {\n      detailsLoading = false\n    }\n  })\n}\n\nfunction loadAppearancesTimes (pokemonId, spawnpointId) {\n  return $.ajax({\n    url: 'raw_data',\n    type: 'GET',\n    data: {\n      'pokemon': false,\n      'pokestops': false,\n      'gyms': false,\n      'scanned': false,\n      'appearances': false,\n      'appearancesDetails': true,\n      'pokemonid': pokemonId,\n      'spawnpoint_id': spawnpointId,\n      'duration': $('#duration').val()\n    },\n    dataType: 'json',\n    beforeSend: function () {\n      if (appearancesTimesLoading) {\n        return false\n      } else {\n        appearancesTimesLoading = true\n      }\n    },\n    complete: function () {\n      appearancesTimesLoading = false\n    }\n  })\n}\n\nfunction showTimes (marker) {\n  appearanceTab(mapData.appearances[marker.spawnpointId]).then(function (value) {\n    $('#times_list').html(value)\n    $('#times_list').show()\n  })\n}\n\nfunction closeTimes () {\n  $('#times_list').hide()\n  detailsPersist = false\n}\n\nfunction addListeners (marker) { // eslint-disable-line no-unused-vars\n  marker.addListener('click', function () {\n    showTimes(marker)\n    detailsPersist = true\n  })\n\n  marker.addListener('mouseover', function () {\n    showTimes(marker)\n  })\n\n  marker.addListener('mouseout', function () {\n    if (!detailsPersist) {\n      $('#times_list').hide()\n    }\n  })\n\n  return marker\n}\n\n// Override map.js initMap\nfunction initMap () {\n  map = new google.maps.Map(document.getElementById('location_map'), {\n    zoom: 16,\n    center: {\n      lat: centerLat,\n      lng: centerLng\n    },\n    fullscreenControl: false,\n    streetViewControl: false,\n    mapTypeControl: true,\n    clickableIcons: false,\n    mapTypeControlOptions: {\n      style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,\n      position: google.maps.ControlPosition.RIGHT_TOP,\n      mapTypeIds: [\n        google.maps.MapTypeId.ROADMAP,\n        google.maps.MapTypeId.SATELLITE,\n        google.maps.MapTypeId.HYBRID,\n        'nolabels_style',\n        'dark_style',\n        'style_light2',\n        'style_pgo',\n        'dark_style_nl',\n        'style_light2_nl',\n        'style_pgo_nl'\n      ]\n    }\n  })\n\n  var styleNoLabels = new google.maps.StyledMapType(noLabelsStyle, {\n    name: 'No Labels'\n  })\n  map.mapTypes.set('nolabels_style', styleNoLabels)\n\n  var styleDark = new google.maps.StyledMapType(darkStyle, {\n    name: 'Dark'\n  })\n  map.mapTypes.set('dark_style', styleDark)\n\n  var styleLight2 = new google.maps.StyledMapType(light2Style, {\n    name: 'Light2'\n  })\n  map.mapTypes.set('style_light2', styleLight2)\n\n  var stylePgo = new google.maps.StyledMapType(pGoStyle, {\n    name: 'PokemonGo'\n  })\n  map.mapTypes.set('style_pgo', stylePgo)\n\n  var styleDarkNl = new google.maps.StyledMapType(darkStyleNoLabels, {\n    name: 'Dark (No Labels)'\n  })\n  map.mapTypes.set('dark_style_nl', styleDarkNl)\n\n  var styleLight2Nl = new google.maps.StyledMapType(light2StyleNoLabels, {\n    name: 'Light2 (No Labels)'\n  })\n  map.mapTypes.set('style_light2_nl', styleLight2Nl)\n\n  var stylePgoNl = new google.maps.StyledMapType(pGoStyleNoLabels, {\n    name: 'PokemonGo (No Labels)'\n  })\n  map.mapTypes.set('style_pgo_nl', stylePgoNl)\n\n  map.addListener('maptypeid_changed', function (s) {\n    Store.set('map_style', this.mapTypeId)\n  })\n\n  map.setMapTypeId(Store.get('map_style'))\n  google.maps.event.addListener(map, 'idle', updateStatMap)\n\n  mapLoaded = true\n\n  google.maps.event.addListener(map, 'zoom_changed', function () {\n    redrawAppearances(mapData.appearances)\n  })\n}\n\nfunction resetMap () {\n  $.each(mapData.appearances, function (key, value) {\n    mapData.appearances[key].marker.setMap(null)\n    delete mapData.appearances[key]\n  })\n\n  heatmapPoints = []\n  if (heatmap) {\n    heatmap.setMap(null)\n  }\n}\n\nfunction showOverlay (id) {\n  // Only load google maps once, and only if requested\n  if (!mapLoaded) {\n    initMap()\n  }\n  resetMap()\n  pokemonid = id\n  $('#location_details').show()\n  location.hash = 'overlay_' + pokemonid\n  updateDetails()\n\n  return false\n}\n\nfunction closeOverlay () { // eslint-disable-line no-unused-vars\n  $('#location_details').hide()\n  closeTimes()\n  location.hash = ''\n  return false\n}\n\nfunction processAppearance (i, item) {\n  var spawnpointId = item['spawnpoint_id']\n  if (!((spawnpointId) in mapData.appearances)) {\n    if (item['marker']) {\n      item['marker'].setMap(null)\n    }\n    item['marker'] = setupPokemonMarker(item, map, true)\n    addListeners(item['marker'])\n    item['marker'].spawnpointId = spawnpointId\n    mapData.appearances[spawnpointId] = item\n  }\n  heatmapPoints.push({location: new google.maps.LatLng(item['latitude'], item['longitude']), weight: parseFloat(item['count'])})\n}\n\nfunction redrawAppearances (appearances) {\n  $.each(appearances, function (key, value) {\n    var item = appearances[key]\n    if (!item['hidden']) {\n      var newMarker = setupPokemonMarker(item, map, true)\n      item['marker'].setMap(null)\n      addListeners(newMarker)\n      newMarker.spawnpointId = item['spawnpoint_id']\n      appearances[key].marker = newMarker\n    }\n  })\n}\n\nfunction appearanceTab (item) {\n  var times = ''\n  return loadAppearancesTimes(item['pokemon_id'], item['spawnpoint_id']).then(function (result) {\n    $.each(result.appearancesTimes, function (key, value) {\n      var saw = new Date(value - spawnTimeMs)\n      saw = saw.getHours() + ':' +\n          ('0' + saw.getMinutes()).slice(-2) + ':' +\n          ('0' + saw.getSeconds()).slice(-2) + ' ' +\n          saw.getDate() + ' ' +\n          monthArray[saw.getMonth()] + ' ' +\n          saw.getFullYear()\n      times = '<div class=\"row' + (key % 2) + '\">' + saw + '</div>' + times\n    })\n    return `<div>\n                <a href=\"javascript:closeTimes();\">Close this tab</a>\n            </div>\n            <div class=\"row1\">\n                <strong>Lat:</strong> ${item['latitude'].toFixed(7)}\n            </div>\n            <div class=\"row0\">\n                <strong>Long:</strong> ${item['longitude'].toFixed(7)}\n            </div>\n            <div class=\"row1\">\n              <strong>Appearances:</strong> ${item['count'].toLocaleString()}\n            </div>\n            <div class=\"row0\"><strong>Times:</strong></div>\n            <div>\n                ${times}\n            </div>`\n  })\n}\n\nfunction updateDetails () {\n  loadDetails().done(function (result) {\n    $.each(result.appearances, processAppearance)\n    if (heatmap) {\n      heatmap.setMap(null)\n    }\n    heatmap = new google.maps.visualization.HeatmapLayer({\n      data: heatmapPoints,\n      map: map,\n      radius: 50\n    })\n  })\n}\n\nif (location.href.match(/overlay_[0-9]+/g)) {\n  showOverlay(location.href.replace(/^.*overlay_([0-9]+).*$/, '$1'))\n}\n\n$('#nav select')\n  .select2({\n    minimumResultsForSearch: Infinity\n  })\n  .on('change', updateStatMap)\n"]}