/*
 pogomap 2016-11-13 
*/

"use strict";function countMarkers(a){document.getElementById("stats-ldg-label").innerHTML="",document.getElementById("stats-pkmn-label").innerHTML="Pokémon",document.getElementById("stats-gym-label").innerHTML="Gyms",document.getElementById("stats-pkstop-label").innerHTML="PokéStops";var b=0,c=[],d=0,e=[],f=0,g=[],h=0,i=$("#pokemonList_table").DataTable(),j=a.getBounds(),k=!1,l=!1,m=!1;if(Store.get("showPokemon")){$.each(mapData.pokemons,function(a,b){var c={lat:mapData.pokemons[a].latitude,lng:mapData.pokemons[a].longitude};k=j.contains(c),k&&(f++,0!==e[mapData.pokemons[a].pokemon_id]&&e[mapData.pokemons[a].pokemon_id]?e[mapData.pokemons[a].pokemon_id].Count+=1:e[mapData.pokemons[a].pokemon_id]={ID:mapData.pokemons[a].pokemon_id,Count:1,Name:mapData.pokemons[a].pokemon_name})});var n=[];for(b=0;b<e.length;b++)e[b]&&e[b].Count>0&&n.push(["<img src='static/icons/"+e[b].ID+".png' />","<a href='http://www.pokemon.com/us/pokedex/"+e[b].ID+"' target='_blank' title='View in Pokédex' style='color: black;'>"+e[b].Name+"</a>",e[b].Count,Math.round(100*e[b].Count/f*10)/10+"%"]);$("#pokemonList_table").dataTable().show(),i.clear().rows.add(n).draw()}else i.clear().draw(),document.getElementById("pokeStatStatus").innerHTML="Pokémon markers are disabled",$("#pokemonList_table").dataTable().hide();if(Store.get("showGyms")){$.each(mapData.gyms,function(a,b){var e={lat:mapData.gyms[a].latitude,lng:mapData.gyms[a].longitude};l=j.contains(e),l&&(d++,0!==c[mapData.gyms[a].team_id]&&c[mapData.gyms[a].team_id]?c[mapData.gyms[a].team_id]+=1:c[mapData.gyms[a].team_id]=1)});var o="<table><th>Icon</th><th>Team Color</th><th>Count</th><th>%</th><tr><td></td><td>Total</td><td>"+d+"</td></tr>";for(b=0;b<c.length;b++)c[b]>0&&(o+=1===b?'<tr><td><img src="static/forts/Mystic.png" /></td><td>Blue</td><td>'+c[b]+"</td><td>"+Math.round(100*c[b]/d*10)/10+"%</td></tr>":2===b?'<tr><td><img src="static/forts/Valor.png" /></td><td>Red</td><td>'+c[b]+"</td><td>"+Math.round(100*c[b]/d*10)/10+"%</td></tr>":3===b?'<tr><td><img src="static/forts/Instinct.png" /></td><td>Yellow</td><td>'+c[b]+"</td><td>"+Math.round(100*c[b]/d*10)/10+"%</td></tr>":'<tr><td><img src="static/forts/Uncontested.png" /></td><td>Clear</td><td>'+c[b]+"</td><td>"+Math.round(100*c[b]/d*10)/10+"%</td></tr>");o+="</table>",document.getElementById("arenaList").innerHTML=o}else document.getElementById("arenaList").innerHTML="Gyms markers are disabled";if(Store.get("showPokestops")){$.each(mapData.pokestops,function(a,b){var c={lat:mapData.pokestops[a].latitude,lng:mapData.pokestops[a].longitude};m=j.contains(c),m&&(mapData.pokestops[a].lure_expiration&&mapData.pokestops[a].lure_expiration>0?0!==g[1]&&g[1]?g[1]+=1:g[1]=1:0!==g[0]&&g[0]?g[0]+=1:g[0]=1,h++)});var p="<table><th>Icon</th><th>Status</th><th>Count</th><th>%</th><tr><td></td><td>Total</td><td>"+h+"</td></tr>";for(b=0;b<g.length;b++)g[b]>0&&(0===b?p+='<tr><td><img src="static/forts/Pstop.png" /></td><td>Not Lured</td><td>'+g[b]+"</td><td>"+Math.round(100*g[b]/h*10)/10+"%</td></tr>":1===b&&(p+='<tr><td><img src="static/forts/PstopLured.png" /></td><td>Lured</td><td>'+g[b]+"</td><td>"+Math.round(100*g[b]/h*10)/10+"%</td></tr>"));p+="</table>",document.getElementById("pokestopList").innerHTML=p}else document.getElementById("pokestopList").innerHTML="PokéStops markers are disabled"}
//# sourceMappingURL=stats.min.js.map